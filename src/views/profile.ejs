<!DOCTYPE html>
<html lang="en">
<%- include('partial/head',{ title:'PROFILE' }) %>

    <body class="register" style="background-color: var(--colorCeleste);">

        <main class="container mt-5">
            <div class="row">
                <div class="col-12 col-md-10 col-lg-8 mx-auto">
                    <div class="card shadow">
                        <div class="card-body">
                            <h3 style="color: var(--colorCeleste);">MI PERFIL</h3>
                            <hr>
                            <form class="row" action="/users/update-profile?_method=PUT" method="POST"
                                enctype="multipart/form-data">
                                <div class="flex-shrink-0 mb-3">
                                    <img src="/images/users/<%= image || 'userDefault.jpg' %>" alt="profile image"
                                        class="img" style="width: 150px; border-radius: 10px; border: solid 1px black;">
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label class="form-label" for="name">Nombre</label>
                                    <input class="form-control" type="text" id="name" name="name" value="<%= name %>">
                                    <small class="ms-2 text-danger" id="msgError-name">
                                        <%= locals.errors && (errors.name && errors.name.msg) %>
                                    </small>
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label class="form-label" for="surname">Apellido</label>
                                    <input class="form-control" type="text" id="surname" name="surname"
                                        value="<%= surname %>">
                                    <small class="ms-2 text-danger" id="msgError-surname">
                                        <%= locals.errors && (errors.surname && errors.surname.msg) %>
                                    </small>
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label class="form-label" for="birthday">Cumpleaños</label>
                                    <input class="form-control" type="date" id="birthday" name="birthday"
                                        value="<%= birthday %>">
                                    <small class="ms-2 text-danger" id="msgError-birthday">
                                        <%= locals.errors && (errors.birthday && errors.birthday.msg) %>
                                    </small>
                                </div>

                                <div class="col-12 col-md-6 mb-3">
                                    <label for="address">Domicilio</label>
                                    <input type="text" class="form-control" name="address" value="<%= address %>">
</div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="province">Provincia</label>
                                    <select id="province" class="form-control" name="province">
                                        <option value="<%= province %>" selected hidden><%= province %></option>
                                       
                                        <!-- Agrega opciones dinámicamente basadas en las provincias disponibles -->
                                    </select>
                                </div>
                                <div class="col-12 col-md-6 mb-3">
                                    <label for="city">Localidad</label>
                                    <select id="city" class="form-control" name="city" value="<%= city %>" disabled>
                                        <option value="<%= city %>" selected>
                                            <%= city %>
                                        </option>
                                        <!-- Agrega opciones dinámicamente basadas en las ciudades disponibles en la provincia seleccionada -->
                                    </select>
                                </div>

                                <div class="col-12 col-md-6 mb-3">
                                    <label class="form-check-label" for="about">
                                        Acerca de mí
                                    </label>
                                    <textarea style="resize: none;" name="about" id="about" rows="5"
                                        class="form-control"><%= about %></textarea>
                                </div>
                                <div class="col-12 d-flex justify-content-end gap-2 mb-3">
                                    <button class="btn btn-secondary"><a href="/" style="color: white;">Volver al
                                            HOME</a></button>
                                    <label for="image" class="btn btn-dark">Cambiar imagen de perfil</label>
                                    <input hidden class="form-control" type="file" id="image" name="image">
                                    <button class="btn btn-success" type="submit">Guardar cambios</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <script src="/javascripts/profile.js"></script>
        <script src="/javascripts/moment.js"></script>
    </body>

</html>